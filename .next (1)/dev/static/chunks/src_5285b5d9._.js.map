{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/damia/My%20Drive/Consultorias/All%20Boys/gestion-basket-app/src/components/page-guide.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\ninterface PageGuideProps {\r\n    title?: string;\r\n    children: React.ReactNode;\r\n}\r\n\r\nexport default function PageGuide({ title = \"‚ÑπÔ∏è Gu√≠a R√°pida\", children }: PageGuideProps) {\r\n    const [isVisible, setIsVisible] = useState(true);\r\n\r\n    if (!isVisible) {\r\n        return (\r\n            <button\r\n                onClick={() => setIsVisible(true)}\r\n                style={{\r\n                    marginBottom: '1.5rem',\r\n                    fontSize: '0.8rem',\r\n                    color: 'var(--primary)',\r\n                    background: 'transparent',\r\n                    border: '1px solid var(--border)',\r\n                    borderRadius: 'var(--radius)',\r\n                    padding: '0.25rem 0.5rem',\r\n                    cursor: 'pointer'\r\n                }}\r\n            >\r\n                Mostrar Ayuda\r\n            </button>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div style={{\r\n            background: 'var(--secondary)',\r\n            border: '1px solid var(--border)',\r\n            borderRadius: 'var(--radius)',\r\n            padding: '1rem',\r\n            marginBottom: '1.5rem',\r\n            position: 'relative'\r\n        }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>\r\n                <h4 style={{ margin: 0, color: 'var(--primary)', fontSize: '0.9rem', textTransform: 'uppercase' }}>{title}</h4>\r\n                <button\r\n                    onClick={() => setIsVisible(false)}\r\n                    style={{\r\n                        background: 'transparent',\r\n                        border: 'none',\r\n                        fontSize: '1rem',\r\n                        cursor: 'pointer',\r\n                        color: 'var(--foreground)',\r\n                        opacity: 0.5\r\n                    }}\r\n                    title=\"Ocultar ayuda\"\r\n                >\r\n                    ‚úï\r\n                </button>\r\n            </div>\r\n            <div style={{ fontSize: '0.85rem', color: 'var(--foreground)', lineHeight: '1.5' }}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AASe,SAAS,UAAU,EAAE,QAAQ,gBAAgB,EAAE,QAAQ,EAAkB;;IACpF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAI,CAAC,WAAW;QACZ,qBACI,6LAAC;YACG,SAAS,IAAM,aAAa;YAC5B,OAAO;gBACH,cAAc;gBACd,UAAU;gBACV,OAAO;gBACP,YAAY;gBACZ,QAAQ;gBACR,cAAc;gBACd,SAAS;gBACT,QAAQ;YACZ;sBACH;;;;;;IAIT;IAEA,qBACI,6LAAC;QAAI,OAAO;YACR,YAAY;YACZ,QAAQ;YACR,cAAc;YACd,SAAS;YACT,cAAc;YACd,UAAU;QACd;;0BACI,6LAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,gBAAgB;oBAAiB,YAAY;oBAAU,cAAc;gBAAS;;kCACzG,6LAAC;wBAAG,OAAO;4BAAE,QAAQ;4BAAG,OAAO;4BAAkB,UAAU;4BAAU,eAAe;wBAAY;kCAAI;;;;;;kCACpG,6LAAC;wBACG,SAAS,IAAM,aAAa;wBAC5B,OAAO;4BACH,YAAY;4BACZ,QAAQ;4BACR,UAAU;4BACV,QAAQ;4BACR,OAAO;4BACP,SAAS;wBACb;wBACA,OAAM;kCACT;;;;;;;;;;;;0BAIL,6LAAC;gBAAI,OAAO;oBAAE,UAAU;oBAAW,OAAO;oBAAqB,YAAY;gBAAM;0BAC5E;;;;;;;;;;;;AAIjB;GAtDwB;KAAA"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/damia/My%20Drive/Consultorias/All%20Boys/gestion-basket-app/src/lib/utils.ts"],"sourcesContent":["export function getCategory(player: any, mappings?: { category: string, minYear: number, maxYear: number }[]): string {\r\n    // 1. Manual override priority\r\n    if (player.category) return player.category;\r\n\r\n    // 2. BirthDate logic\r\n    if (!player.birthDate) return \"REVISAR\";\r\n\r\n    const date = new Date(player.birthDate);\r\n    if (isNaN(date.getTime()) || date.getTime() <= 0) return \"REVISAR\";\r\n\r\n    const year = date.getFullYear();\r\n    if (year <= 1970) return \"REVISAR\";\r\n\r\n    if (mappings && mappings.length > 0) {\r\n        const found = mappings.find(m => year >= m.minYear && year <= m.maxYear);\r\n        if (found) return found.category;\r\n    }\r\n\r\n    const today = new Date();\r\n    const currentYear = today.getFullYear();\r\n    const age = currentYear - year;\r\n\r\n    if (age < 9) return \"Mosquitos\";\r\n    if (age <= 10) return \"Pre-Mini\";\r\n    if (age <= 12) return \"Mini\";\r\n    if (age <= 13) return \"U13\";\r\n    if (age <= 15) return \"U15\";\r\n    if (age <= 17) return \"U17\";\r\n    if (age <= 19) return \"U19\";\r\n    return \"Primera\";\r\n}\r\n\r\nexport function formatCurrency(amount: number) {\r\n    return new Intl.NumberFormat('es-AR', { style: 'currency', currency: 'ARS' }).format(amount);\r\n}\r\n\r\n/**\r\n * Re-evaluates player status. \r\n * If status is REVISAR and all critical data is now present and real,\r\n * it returns ACTIVO. Otherwise returns the existing status.\r\n */\r\nexport function evaluatePlayerStatus(currentStatus: string, dni: string, birthDate: Date | null | string): string {\r\n    if (currentStatus !== 'REVISAR') return currentStatus;\r\n\r\n    if (!dni || dni.startsWith('TEMP-')) return 'REVISAR';\r\n\r\n    if (!birthDate) return 'REVISAR';\r\n    const date = birthDate instanceof Date ? birthDate : new Date(birthDate);\r\n    if (isNaN(date.getTime())) return 'REVISAR';\r\n\r\n    const year = date.getFullYear();\r\n    // Default/Legacy invalid years\r\n    if (year <= 1970 || year === 1900) return 'REVISAR';\r\n\r\n    // If we are here, data is real and complete. Auto-promote to ACTIVO.\r\n    return 'ACTIVO';\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAO,SAAS,YAAY,MAAW,EAAE,QAAmE;IACxG,8BAA8B;IAC9B,IAAI,OAAO,QAAQ,EAAE,OAAO,OAAO,QAAQ;IAE3C,qBAAqB;IACrB,IAAI,CAAC,OAAO,SAAS,EAAE,OAAO;IAE9B,MAAM,OAAO,IAAI,KAAK,OAAO,SAAS;IACtC,IAAI,MAAM,KAAK,OAAO,OAAO,KAAK,OAAO,MAAM,GAAG,OAAO;IAEzD,MAAM,OAAO,KAAK,WAAW;IAC7B,IAAI,QAAQ,MAAM,OAAO;IAEzB,IAAI,YAAY,SAAS,MAAM,GAAG,GAAG;QACjC,MAAM,QAAQ,SAAS,IAAI,CAAC,CAAA,IAAK,QAAQ,EAAE,OAAO,IAAI,QAAQ,EAAE,OAAO;QACvE,IAAI,OAAO,OAAO,MAAM,QAAQ;IACpC;IAEA,MAAM,QAAQ,IAAI;IAClB,MAAM,cAAc,MAAM,WAAW;IACrC,MAAM,MAAM,cAAc;IAE1B,IAAI,MAAM,GAAG,OAAO;IACpB,IAAI,OAAO,IAAI,OAAO;IACtB,IAAI,OAAO,IAAI,OAAO;IACtB,IAAI,OAAO,IAAI,OAAO;IACtB,IAAI,OAAO,IAAI,OAAO;IACtB,IAAI,OAAO,IAAI,OAAO;IACtB,IAAI,OAAO,IAAI,OAAO;IACtB,OAAO;AACX;AAEO,SAAS,eAAe,MAAc;IACzC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QAAE,OAAO;QAAY,UAAU;IAAM,GAAG,MAAM,CAAC;AACzF;AAOO,SAAS,qBAAqB,aAAqB,EAAE,GAAW,EAAE,SAA+B;IACpG,IAAI,kBAAkB,WAAW,OAAO;IAExC,IAAI,CAAC,OAAO,IAAI,UAAU,CAAC,UAAU,OAAO;IAE5C,IAAI,CAAC,WAAW,OAAO;IACvB,MAAM,OAAO,qBAAqB,OAAO,YAAY,IAAI,KAAK;IAC9D,IAAI,MAAM,KAAK,OAAO,KAAK,OAAO;IAElC,MAAM,OAAO,KAAK,WAAW;IAC7B,+BAA+B;IAC/B,IAAI,QAAQ,QAAQ,SAAS,MAAM,OAAO;IAE1C,qEAAqE;IACrE,OAAO;AACX"}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/damia/My%20Drive/Consultorias/All%20Boys/gestion-basket-app/src/lib/bulk-actions.ts"],"sourcesContent":["'use server';\r\n\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { evaluatePlayerStatus } from \"./utils\";\r\n\r\nexport async function bulkUpdatePlayers(\r\n    playerIds: string[],\r\n    updates: {\r\n        category?: string | null,\r\n        tira?: string,\r\n        status?: string,\r\n        scholarship?: boolean,\r\n        playsPrimera?: boolean,\r\n        observations?: string | null\r\n    }\r\n) {\r\n    if (!playerIds.length) return { success: false, message: \"No se seleccionaron jugadores\" };\r\n\r\n    try {\r\n        // We fetch players to evaluate status correctly for each\r\n        const players = await prisma.player.findMany({\r\n            where: { id: { in: playerIds } },\r\n            select: { id: true, status: true, dni: true, birthDate: true }\r\n        });\r\n\r\n        for (const player of players) {\r\n            const newStatus = updates.status || player.status;\r\n            const finalStatus = evaluatePlayerStatus(newStatus, player.dni, player.birthDate);\r\n\r\n            await prisma.player.update({\r\n                where: { id: player.id },\r\n                data: {\r\n                    ...updates,\r\n                    status: finalStatus\r\n                }\r\n            });\r\n        }\r\n\r\n        revalidatePath(\"/dashboard/players\");\r\n        revalidatePath(\"/dashboard/categories\");\r\n        return { success: true, message: `Se actualizaron ${playerIds.length} jugadores.` };\r\n    } catch (error: any) {\r\n        return { success: false, message: \"Error en actualizaci√≥n masiva: \" + error.message };\r\n    }\r\n}\r\n\r\n\r\nexport async function bulkDeletePlayers(playerIds: string[]) {\r\n    if (!playerIds.length) return { success: false, message: \"No se seleccionaron jugadores\" };\r\n\r\n    try {\r\n        // Warning: This is destructive. Admin only check should be at route level.\r\n        await prisma.player.deleteMany({\r\n            where: {\r\n                id: { in: playerIds }\r\n            }\r\n        });\r\n\r\n        revalidatePath(\"/dashboard/players\");\r\n        return { success: true, message: `Se eliminaron ${playerIds.length} jugadores.` };\r\n    } catch (error: any) {\r\n        return { success: false, message: \"Error al eliminar jugadores: \" + error.message };\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;MAMsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,qDAAA"}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/damia/My%20Drive/Consultorias/All%20Boys/gestion-basket-app/src/lib/bulk-actions.ts"],"sourcesContent":["'use server';\r\n\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { evaluatePlayerStatus } from \"./utils\";\r\n\r\nexport async function bulkUpdatePlayers(\r\n    playerIds: string[],\r\n    updates: {\r\n        category?: string | null,\r\n        tira?: string,\r\n        status?: string,\r\n        scholarship?: boolean,\r\n        playsPrimera?: boolean,\r\n        observations?: string | null\r\n    }\r\n) {\r\n    if (!playerIds.length) return { success: false, message: \"No se seleccionaron jugadores\" };\r\n\r\n    try {\r\n        // We fetch players to evaluate status correctly for each\r\n        const players = await prisma.player.findMany({\r\n            where: { id: { in: playerIds } },\r\n            select: { id: true, status: true, dni: true, birthDate: true }\r\n        });\r\n\r\n        for (const player of players) {\r\n            const newStatus = updates.status || player.status;\r\n            const finalStatus = evaluatePlayerStatus(newStatus, player.dni, player.birthDate);\r\n\r\n            await prisma.player.update({\r\n                where: { id: player.id },\r\n                data: {\r\n                    ...updates,\r\n                    status: finalStatus\r\n                }\r\n            });\r\n        }\r\n\r\n        revalidatePath(\"/dashboard/players\");\r\n        revalidatePath(\"/dashboard/categories\");\r\n        return { success: true, message: `Se actualizaron ${playerIds.length} jugadores.` };\r\n    } catch (error: any) {\r\n        return { success: false, message: \"Error en actualizaci√≥n masiva: \" + error.message };\r\n    }\r\n}\r\n\r\n\r\nexport async function bulkDeletePlayers(playerIds: string[]) {\r\n    if (!playerIds.length) return { success: false, message: \"No se seleccionaron jugadores\" };\r\n\r\n    try {\r\n        // Warning: This is destructive. Admin only check should be at route level.\r\n        await prisma.player.deleteMany({\r\n            where: {\r\n                id: { in: playerIds }\r\n            }\r\n        });\r\n\r\n        revalidatePath(\"/dashboard/players\");\r\n        return { success: true, message: `Se eliminaron ${playerIds.length} jugadores.` };\r\n    } catch (error: any) {\r\n        return { success: false, message: \"Error al eliminar jugadores: \" + error.message };\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;MAgDsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,qDAAA"}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/damia/My%20Drive/Consultorias/All%20Boys/gestion-basket-app/src/components/sortable-header.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\n\r\ninterface SortableHeaderProps {\r\n    label: string;\r\n    value: string;\r\n    currentSort: string;\r\n    currentOrder: string;\r\n    className?: string;\r\n}\r\n\r\nexport default function SortableHeader({ label, value, currentSort, currentOrder, className }: SortableHeaderProps) {\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n\r\n    const handleSort = () => {\r\n        const params = new URLSearchParams(searchParams.toString());\r\n        if (currentSort === value) {\r\n            params.set('sortOrder', currentOrder === 'asc' ? 'desc' : 'asc');\r\n        } else {\r\n            params.set('sort', value);\r\n            params.set('sortOrder', 'asc');\r\n        }\r\n        router.push(`?${params.toString()}`);\r\n    };\r\n\r\n    const isSorted = currentSort === value;\r\n    const arrow = isSorted ? (currentOrder === 'asc' ? ' ‚Üë' : ' ‚Üì') : '';\r\n\r\n    return (\r\n        <th\r\n            className={className}\r\n            style={{ padding: '1rem', color: 'var(--foreground)', fontSize: '0.85rem', cursor: 'pointer', userSelect: 'none' }}\r\n            onClick={handleSort}\r\n        >\r\n            {label}{arrow}\r\n        </th>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAYe,SAAS,eAAe,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,YAAY,EAAE,SAAS,EAAuB;;IAC9G,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,eAAe,IAAA,wJAAe;IAEpC,MAAM,aAAa;QACf,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;QACxD,IAAI,gBAAgB,OAAO;YACvB,OAAO,GAAG,CAAC,aAAa,iBAAiB,QAAQ,SAAS;QAC9D,OAAO;YACH,OAAO,GAAG,CAAC,QAAQ;YACnB,OAAO,GAAG,CAAC,aAAa;QAC5B;QACA,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,QAAQ,IAAI;IACvC;IAEA,MAAM,WAAW,gBAAgB;IACjC,MAAM,QAAQ,WAAY,iBAAiB,QAAQ,OAAO,OAAQ;IAElE,qBACI,6LAAC;QACG,WAAW;QACX,OAAO;YAAE,SAAS;YAAQ,OAAO;YAAqB,UAAU;YAAW,QAAQ;YAAW,YAAY;QAAO;QACjH,SAAS;;YAER;YAAO;;;;;;;AAGpB;GA3BwB;;QACL,kJAAS;QACH,wJAAe;;;KAFhB"}},
    {"offset": {"line": 275, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/damia/My%20Drive/Consultorias/All%20Boys/gestion-basket-app/src/app/dashboard/players/player-list.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useSearchParams } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { format } from 'date-fns';\r\nimport { getCategory } from '@/lib/utils';\r\nimport { bulkUpdatePlayers, bulkDeletePlayers } from '@/lib/bulk-actions';\r\nimport SortableHeader from '@/components/sortable-header';\r\n\r\nexport default function PlayerList({\r\n    initialPlayers,\r\n    role,\r\n    categories,\r\n    mappings,\r\n    currentSort,\r\n    currentOrder\r\n}: {\r\n    initialPlayers: any[],\r\n    role: string,\r\n    categories: string[],\r\n    mappings: any[],\r\n    currentSort: string,\r\n    currentOrder: string\r\n}) {\r\n    const [selectedIds, setSelectedIds] = useState<string[]>([]);\r\n    const [players, setPlayers] = useState(initialPlayers);\r\n    const [isUpdating, setIsUpdating] = useState(false);\r\n    const searchParams = useSearchParams();\r\n\r\n    const canEdit = role === 'ADMIN' || role === 'OPERADOR';\r\n\r\n    // Helper to preserve filters when navigating to edit\r\n    const getEditLink = (playerId: string) => {\r\n        const currentFilters = searchParams.toString();\r\n        return currentFilters\r\n            ? `/dashboard/players/${playerId}/edit?returnFilters=${encodeURIComponent(currentFilters)}`\r\n            : `/dashboard/players/${playerId}/edit`;\r\n    };\r\n\r\n    const toggleSelectAll = () => {\r\n        if (selectedIds.length === players.length) {\r\n            setSelectedIds([]);\r\n        } else {\r\n            setSelectedIds(players.map(p => p.id));\r\n        }\r\n    };\r\n\r\n    const toggleSelect = (id: string) => {\r\n        setSelectedIds(prev =>\r\n            prev.includes(id) ? prev.filter(i => i !== id) : [...prev, id]\r\n        );\r\n    };\r\n\r\n    const handleBulkUpdate = async (updates: any) => {\r\n        if (!selectedIds.length) return;\r\n        if (!confirm(`¬øEst√°s seguro de actualizar ${selectedIds.length} jugadores?`)) return;\r\n\r\n        setIsUpdating(true);\r\n        const res = await bulkUpdatePlayers(selectedIds, updates);\r\n        if (res.success) {\r\n            alert(res.message);\r\n            window.location.reload(); // Quickest way to sync server state\r\n        } else {\r\n            alert(res.message);\r\n        }\r\n        setIsUpdating(false);\r\n    };\r\n\r\n    const handleBulkDelete = async () => {\r\n        if (!selectedIds.length || !canEdit) return;\r\n        if (!confirm(`‚ö†Ô∏è PELIGRO: ¬øEst√°s seguro de ELIMINAR permanentemente a ${selectedIds.length} jugadores?`)) return;\r\n\r\n        setIsUpdating(true);\r\n        const res = await bulkDeletePlayers(selectedIds);\r\n        if (res.success) {\r\n            alert(res.message);\r\n            window.location.reload();\r\n        } else {\r\n            alert(res.message);\r\n        }\r\n        setIsUpdating(false);\r\n    };\r\n\r\n    const getWhatsAppLink = (phone: string) => {\r\n        const cleanPhone = phone.replace(/\\D/g, '');\r\n        return `https://wa.me/${cleanPhone}`;\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {selectedIds.length > 0 && (\r\n                <div style={{\r\n                    position: 'fixed',\r\n                    bottom: '2rem',\r\n                    left: '50%',\r\n                    transform: 'translateX(-50%)',\r\n                    background: 'var(--secondary)',\r\n                    padding: '1rem',\r\n                    borderRadius: '16px',\r\n                    boxShadow: '0 20px 50px rgba(0, 0, 0, 0.5)',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'center',\r\n                    gap: '1rem',\r\n                    zIndex: 100,\r\n                    border: '1px solid var(--border)',\r\n                    animation: 'slideUp 0.3s ease-out',\r\n                    color: 'var(--foreground)',\r\n                    width: '90%',\r\n                    maxWidth: '800px'\r\n                }}>\r\n                    <div style={{ fontWeight: 'bold', width: '100%', textAlign: 'center', borderBottom: '1px solid var(--border)', paddingBottom: '0.5rem' }}>\r\n                        {selectedIds.length} <span style={{ color: 'var(--foreground)', fontWeight: 'normal' }}>jugadores seleccionados</span>\r\n                    </div>\r\n\r\n                    <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center', flexWrap: 'wrap', justifyContent: 'center' }}>\r\n                        <select\r\n                            className=\"input\"\r\n                            style={{ padding: '0.4rem', fontSize: '0.85rem', width: 'auto', background: 'var(--input)', border: '1px solid var(--border)', height: '36px' }}\r\n                            onChange={(e) => {\r\n                                if (e.target.value) {\r\n                                    handleBulkUpdate({ tira: e.target.value });\r\n                                    e.target.value = \"\";\r\n                                }\r\n                            }}\r\n                            disabled={isUpdating}\r\n                        >\r\n                            <option value=\"\">Tira...</option>\r\n                            <option value=\"Masculino A\">Masc A</option>\r\n                            <option value=\"Masculino B\">Masc B</option>\r\n                            <option value=\"Femenino\">Fem</option>\r\n                        </select>\r\n\r\n                        <select\r\n                            className=\"input\"\r\n                            style={{ padding: '0.4rem', fontSize: '0.85rem', width: 'auto', background: 'var(--input)', border: '1px solid var(--border)', height: '36px' }}\r\n                            onChange={(e) => {\r\n                                if (e.target.value) {\r\n                                    handleBulkUpdate({ category: e.target.value });\r\n                                    e.target.value = \"\";\r\n                                }\r\n                            }}\r\n                            disabled={isUpdating}\r\n                        >\r\n                            <option value=\"\">Categor√≠a...</option>\r\n                            {categories.map(c => (\r\n                                <option key={c} value={c}>{c}</option>\r\n                            ))}\r\n                        </select>\r\n\r\n                        <button\r\n                            className=\"btn btn-secondary\"\r\n                            style={{ padding: '0.4rem 1rem', fontSize: '0.85rem', height: '36px', background: 'var(--secondary)', color: 'var(--foreground)' }}\r\n                            onClick={() => {\r\n                                const obs = prompt(\"Ingrese observaciones para todos los seleccionados:\");\r\n                                if (obs !== null) handleBulkUpdate({ observations: obs });\r\n                            }}\r\n                            disabled={isUpdating}\r\n                        >\r\n                            üìù Obs\r\n                        </button>\r\n\r\n                        <div style={{ width: '1px', height: '24px', background: 'var(--border)', margin: '0 0.5rem' }} />\r\n\r\n                        <button\r\n                            className=\"btn btn-secondary\"\r\n                            style={{ padding: '0.4rem 1rem', fontSize: '0.85rem', height: '36px', background: '#064e3b', color: '#6ee7b7', border: 'none' }}\r\n                            onClick={() => handleBulkUpdate({ status: 'ACTIVO' })}\r\n                            disabled={isUpdating}\r\n                        >\r\n                            Activar\r\n                        </button>\r\n\r\n                        <button\r\n                            className=\"btn btn-secondary\"\r\n                            style={{ padding: '0.4rem 1rem', fontSize: '0.85rem', height: '36px', background: '#450a0a', color: '#fca5a5', border: 'none' }}\r\n                            onClick={() => handleBulkUpdate({ status: 'INACTIVO' })}\r\n                            disabled={isUpdating}\r\n                        >\r\n                            Inactivar\r\n                        </button>\r\n\r\n                        <button\r\n                            className=\"btn btn-secondary\"\r\n                            style={{ padding: '0.4rem 1rem', fontSize: '0.85rem', height: '36px', background: '#78350f', color: '#fcd34d', border: 'none' }}\r\n                            onClick={() => handleBulkUpdate({ status: 'REVISAR' })}\r\n                            disabled={isUpdating}\r\n                        >\r\n                            Revisar\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"card\" style={{ overflowX: 'auto', maxHeight: 'calc(100vh - 250px)', overflowY: 'auto', padding: 0 }}>\r\n                <table className=\"players-table\" style={{ width: '100%', borderCollapse: 'collapse', textAlign: 'left' }}>\r\n                    <thead style={{ position: 'sticky', top: 0, background: 'var(--secondary)', zIndex: 10 }}>\r\n                        <tr style={{ borderBottom: '2px solid var(--border)' }}>\r\n                            <th className=\"col-checkbox\" style={{ padding: '1rem', width: '40px', color: 'var(--foreground)' }}>\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={selectedIds.length === players.length && players.length > 0}\r\n                                    onChange={toggleSelectAll}\r\n                                />\r\n                            </th>\r\n                            <SortableHeader label=\"Jugador\" value=\"lastName\" currentSort={currentSort} currentOrder={currentOrder} />\r\n                            <SortableHeader className=\"col-dni\" label=\"DNI\" value=\"dni\" currentSort={currentSort} currentOrder={currentOrder} />\r\n                            <SortableHeader label=\"Categor√≠a\" value=\"category\" currentSort={currentSort} currentOrder={currentOrder} />\r\n                            <SortableHeader className=\"col-primera\" label=\"Primera\" value=\"playsPrimera\" currentSort={currentSort} currentOrder={currentOrder} />\r\n                            <SortableHeader label=\"Tira\" value=\"tira\" currentSort={currentSort} currentOrder={currentOrder} />\r\n                            <SortableHeader className=\"col-socio\" label=\"Socio\" value=\"partnerNumber\" currentSort={currentSort} currentOrder={currentOrder} />\r\n                            <SortableHeader className=\"col-camiseta\" label=\"Camiseta\" value=\"shirtNumber\" currentSort={currentSort} currentOrder={currentOrder} />\r\n                            <SortableHeader className=\"col-contacto\" label=\"Contacto\" value=\"phone\" currentSort={currentSort} currentOrder={currentOrder} />\r\n                            <SortableHeader className=\"col-alta\" label=\"Alta\" value=\"registrationDate\" currentSort={currentSort} currentOrder={currentOrder} />\r\n                            <SortableHeader label=\"Estado\" value=\"status\" currentSort={currentSort} currentOrder={currentOrder} />\r\n                            <th style={{ padding: '1rem', color: 'var(--foreground)' }}>Acciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {players.map((player) => {\r\n                            const calculatedCat = getCategory(player, mappings);\r\n                            const isSelected = selectedIds.includes(player.id);\r\n\r\n                            return (\r\n                                <tr\r\n                                    key={player.id}\r\n                                    style={{\r\n                                        borderBottom: '1px solid var(--border)',\r\n                                        background: isSelected ? 'rgba(255, 255, 255, 0.05)' : 'transparent'\r\n                                    }}\r\n                                >\r\n                                    <td className=\"col-checkbox\" style={{ padding: '1rem' }}>\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={isSelected}\r\n                                            onChange={() => toggleSelect(player.id)}\r\n                                        />\r\n                                    </td>\r\n                                    <td style={{ padding: '1rem' }}>\r\n                                        <div style={{ fontWeight: 'bold', color: 'var(--foreground)' }}>{player.lastName}, {player.firstName}</div>\r\n                                    </td>\r\n                                    <td className=\"col-dni\" style={{ padding: '1rem', fontSize: '0.9rem', color: 'var(--foreground)' }}>{player.dni}</td>\r\n                                    <td style={{ padding: '1rem', fontWeight: 600, color: 'var(--foreground)' }}>{calculatedCat}</td>\r\n                                    <td className=\"col-primera\" style={{ padding: '1rem', textAlign: 'center', color: 'var(--foreground)' }}>{player.playsPrimera ? '‚úÖ' : '-'}</td>\r\n                                    <td style={{ padding: '1rem' }}>\r\n                                        <span style={{\r\n                                            fontSize: '0.75rem',\r\n                                            padding: '0.2rem 0.5rem',\r\n                                            borderRadius: '4px',\r\n                                            background: 'var(--secondary)',\r\n                                            border: '1px solid var(--border)',\r\n                                            color: 'var(--foreground)'\r\n                                        }}>\r\n                                            {player.tira}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\"col-socio\" style={{ padding: '1rem', fontSize: '0.9rem', color: 'var(--foreground)', textAlign: 'center' }}>\r\n                                        {player.partnerNumber || '-'}\r\n                                    </td>\r\n                                    <td className=\"col-camiseta\" style={{ padding: '1rem', fontSize: '0.9rem', color: 'var(--foreground)', textAlign: 'center' }}>\r\n                                        {player.shirtNumber || '-'}\r\n                                    </td>\r\n                                    <td className=\"col-contacto\" style={{ padding: '1rem' }}>\r\n                                        <div style={{ fontSize: '0.8rem', color: 'var(--foreground)' }}>\r\n                                            {player.phone && (\r\n                                                <div style={{ marginBottom: '0.25rem' }}>\r\n                                                    <a\r\n                                                        href={getWhatsAppLink(player.phone)}\r\n                                                        target=\"_blank\"\r\n                                                        rel=\"noopener noreferrer\"\r\n                                                        style={{ color: 'var(--foreground)', textDecoration: 'none', display: 'flex', alignItems: 'center', gap: '0.25rem' }}\r\n                                                        title=\"Enviar WhatsApp\"\r\n                                                    >\r\n                                                        <span>üìû</span>\r\n                                                        <span style={{ textDecoration: 'underline', textDecorationStyle: 'dotted', textUnderlineOffset: '3px' }}>{player.phone}</span>\r\n                                                    </a>\r\n                                                </div>\r\n                                            )}\r\n                                            {player.email && <div style={{ maxWidth: '120px', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }} title={player.email}>‚úâÔ∏è {player.email}</div>}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"col-alta\" style={{ padding: '1rem', whiteSpace: 'nowrap', fontSize: '0.85rem', color: 'var(--foreground)' }}>\r\n                                        {player.registrationDate ? format(new Date(player.registrationDate), 'dd/MM/yyyy') : '-'}\r\n                                    </td>\r\n                                    <td style={{ padding: '1rem' }}>\r\n                                        <div style={{ display: 'flex', gap: '0.35rem', flexWrap: 'wrap' }}>\r\n                                            {player.status === 'REVISAR' && (\r\n                                                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.2rem' }}>\r\n                                                    <span style={{ background: '#78350f', color: '#fcd34d', padding: '0.1rem 0.4rem', borderRadius: '4px', fontSize: '0.65rem', fontWeight: 'bold', textAlign: 'center' }}>REVISAR</span>\r\n                                                    {player.dni.startsWith('TEMP-') && (\r\n                                                        <span style={{ fontSize: '0.6rem', color: '#fca5a5', fontWeight: 600 }}>‚ö†Ô∏è Falta DNI</span>\r\n                                                    )}\r\n                                                    {(player.birthDate && (new Date(player.birthDate).getFullYear() <= 1970 || new Date(player.birthDate).getFullYear() === 1900)) && (\r\n                                                        <span style={{ fontSize: '0.6rem', color: '#fca5a5', fontWeight: 600 }}>‚ö†Ô∏è Falta Nacimiento</span>\r\n                                                    )}\r\n                                                </div>\r\n                                            )}\r\n                                            {player.scholarship && (\r\n                                                <span style={{ background: '#1e3a8a', color: '#93c5fd', padding: '0.1rem 0.4rem', borderRadius: '4px', fontSize: '0.65rem', fontWeight: 'bold' }}>BECA</span>\r\n                                            )}\r\n                                            {player.status === 'ACTIVO' ? (\r\n                                                <span style={{ background: '#064e3b', color: '#6ee7b7', padding: '0.1rem 0.4rem', borderRadius: '4px', fontSize: '0.65rem', fontWeight: 'bold' }}>ACTIVO</span>\r\n                                            ) : player.status === 'INACTIVO' ? (\r\n                                                <span style={{ background: '#450a0a', color: '#fca5a5', padding: '0.1rem 0.4rem', borderRadius: '4px', fontSize: '0.65rem', fontWeight: 'bold' }}>INACTIVO</span>\r\n                                            ) : null}\r\n                                        </div>\r\n                                    </td>\r\n\r\n                                    <td style={{ padding: '1rem' }}>\r\n                                        <Link href={getEditLink(player.id)} style={{ color: 'var(--accent)', fontWeight: 500, fontSize: '0.85rem' }}>Editar</Link>\r\n                                    </td>\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <style jsx>{`\r\n                @keyframes slideUp {\r\n                    from { transform: translate(-50%, 100%); opacity: 0; }\r\n                    to { transform: translate(-50%, 0); opacity: 1; }\r\n                }\r\n            `}</style>\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1267, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/damia/My%20Drive/Consultorias/All%20Boys/gestion-basket-app/src/lib/export-utils.ts"],"sourcesContent":["import * as XLSX from 'xlsx';\r\nimport { saveAs } from 'file-saver';\r\nimport { getCategory } from './utils';\r\n\r\n/**\r\n * Exports data to an Excel file (.xlsx)\r\n * @param data - Array of objects to export\r\n * @param filename - Name of the file (without extension)\r\n * @param sheetName - Optional name for the sheet (default: 'Datos')\r\n */\r\nexport function exportToExcel(data: any[], filename: string, sheetName: string = 'Datos') {\r\n    try {\r\n        // Create a new workbook\r\n        const workbook = XLSX.utils.book_new();\r\n\r\n        // Convert data to worksheet\r\n        const worksheet = XLSX.utils.json_to_sheet(data);\r\n\r\n        // Add worksheet to workbook\r\n        XLSX.utils.book_append_sheet(workbook, worksheet, sheetName);\r\n\r\n        // Generate Excel file buffer\r\n        const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\r\n\r\n        // Create Blob\r\n        const dataBlob = new Blob([excelBuffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8' });\r\n\r\n        // Trigger download\r\n        saveAs(dataBlob, `${filename}.xlsx`);\r\n    } catch (error) {\r\n        console.error('Error exporting to Excel:', error);\r\n        alert('Error al generar el archivo Excel.');\r\n    }\r\n}\r\n\r\n/**\r\n * Client-side export function for use in components\r\n * @param players - Array of players to export\r\n * @param mappings - Category mappings for calculating category\r\n */\r\nexport function exportPlayersToExcel(players: any[], mappings: any[]) {\r\n    const exportData = players.map(player => {\r\n        const calculatedCategory = getCategory(player, mappings);\r\n\r\n        // Audit logic for Excel\r\n        const year = player.birthDate instanceof Date ? player.birthDate.getFullYear() : new Date(player.birthDate).getFullYear();\r\n        const isInvalidDate = year <= 1970 || year === 1900;\r\n        const isTempDni = player.dni.startsWith('TEMP-');\r\n\r\n        const auditNotes = [];\r\n        if (isInvalidDate) auditNotes.push('FALTA NACIMIENTO');\r\n        if (isTempDni) auditNotes.push('DNI TEMPORAL');\r\n        if (!player.phone && !player.email) auditNotes.push('SIN CONTACTO');\r\n\r\n        return {\r\n            'Apellido': player.lastName,\r\n            'Nombre': player.firstName,\r\n            'DNI': isTempDni ? 'SIN DNI' : player.dni,\r\n            'Fecha Nacimiento': isInvalidDate ? 'SIN FECHA' : (player.birthDate instanceof Date ? player.birthDate.toLocaleDateString('es-AR') : new Date(player.birthDate).toLocaleDateString('es-AR')),\r\n            'Categor√≠a': calculatedCategory,\r\n            'Tira': player.tira,\r\n            'Auditor√≠a': auditNotes.join(' | ') || 'OK',\r\n            'Socio': player.partnerNumber || '',\r\n            'Camiseta': player.shirtNumber || '',\r\n            'Tel√©fono': player.phone || '',\r\n            'Email': player.email || '',\r\n            'Estado': player.status,\r\n            'Beca': player.scholarship ? 'S√≠' : 'No',\r\n            'Juega Primera': player.playsPrimera ? 'S√≠' : 'No',\r\n            'Fecha Alta': player.registrationDate ? new Date(player.registrationDate).toLocaleDateString('es-AR') : '',\r\n            'Observaciones': player.observations || ''\r\n        };\r\n    });\r\n\r\n\r\n    exportToExcel(exportData, `jugadores_${new Date().toISOString().split('T')[0]}`);\r\n}\r\n\r\n/**\r\n * Export coaches to Excel\r\n */\r\nexport function exportCoachesToExcel(coaches: any[]) {\r\n    const exportData = coaches.map(coach => ({\r\n        'Nombre': coach.name,\r\n        'DNI': coach.dni || '',\r\n        'Fecha Nacimiento': coach.birthDate || '',\r\n        'Tel√©fono': coach.phone || '',\r\n        'Email': coach.email || '',\r\n        'Rol': coach.role || '',\r\n        'Categor√≠as': coach.category || '', // Schema has 'category' string\r\n        'Tira': coach.tira || '',\r\n        'Estado': coach.status || 'ACTIVO',\r\n        'Salario': coach.salary || 0,\r\n        'Fecha Alta': coach.registrationDate || '',\r\n        'Fecha Baja': coach.withdrawalDate || '',\r\n        'Observaciones': coach.observations || ''\r\n    }));\r\n\r\n    exportToExcel(exportData, `entrenadores_${new Date().toISOString().split('T')[0]}`);\r\n}\r\n\r\n/**\r\n * Export attendance report to Excel\r\n */\r\nexport function exportAttendanceToExcel(data: any[]) {\r\n    const exportData = data.map(row => {\r\n        // Format date dd/MM/yyyy\r\n        const date = new Date(row.date);\r\n        const formattedDate = `${date.getDate().toString().padStart(2, '0')}/${(date.getMonth() + 1).toString().padStart(2, '0')}/${date.getFullYear()}`;\r\n\r\n        return {\r\n            'Fecha': formattedDate,\r\n            'Categor√≠a': row.category,\r\n            'Tira': row.tira,\r\n            'Entrenador': row.coachName || '-',\r\n            'Presentes': row.presentCount,\r\n            'Total': row.totalCount,\r\n            'Porcentaje': `${Math.round((row.presentCount / row.totalCount) * 100)}%`,\r\n            'Jugadores Presentes': row.presentPlayers.join(', ')\r\n        };\r\n    });\r\n\r\n    exportToExcel(exportData, `asistencia_${new Date().toISOString().split('T')[0]}`);\r\n}\r\n\r\n/**\r\n * Export salary report to Excel\r\n */\r\nexport function exportSalariesToExcel(coaches: any[], year: number) {\r\n    const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];\r\n\r\n    const exportData = coaches.map(coach => {\r\n        const row: any = {\r\n            'Entrenador': coach.name,\r\n        };\r\n\r\n        coach.months.forEach((amount: number, idx: number) => {\r\n            row[months[idx]] = amount;\r\n        });\r\n\r\n        row['TOTAL'] = coach.total;\r\n        return row;\r\n    });\r\n\r\n    // Add Totals Row\r\n    const totalsRow: any = { 'Entrenador': 'TOTAL MENSUAL' };\r\n    let grandTotal = 0;\r\n\r\n    // Calculate totals columns\r\n    for (let i = 0; i < 12; i++) {\r\n        const monthTotal = coaches.reduce((sum, c) => sum + (c.months[i] || 0), 0);\r\n        totalsRow[months[i]] = monthTotal;\r\n        grandTotal += monthTotal;\r\n    }\r\n    totalsRow['TOTAL'] = grandTotal;\r\n\r\n    exportData.push(totalsRow);\r\n\r\n    exportToExcel(exportData, `sueldos_${year}_${new Date().toISOString().split('T')[0]}`);\r\n}\r\n\r\n/**\r\n * Export payments report to Excel\r\n */\r\nexport function exportPaymentsToExcel(players: any[]) {\r\n    const exportData = players.map(p => {\r\n        const currentYear = new Date().getFullYear();\r\n        const currentYearMonth = parseInt(new Date().toISOString().slice(0, 7).replace('-', ''));\r\n\r\n        const socialOk = p.lastSocialPayment && parseInt(p.lastSocialPayment) >= currentYearMonth;\r\n        const activityOk = p.scholarship || (p.lastActivityPayment && parseInt(p.lastActivityPayment) >= currentYearMonth);\r\n        const federationOk = p.federationYear === currentYear && p.federationInstallments === 'SALDADO';\r\n\r\n        let status = 'AL D√çA';\r\n        if (!socialOk && !activityOk && !federationOk) status = 'DEUDA TOTAL';\r\n        else if (!socialOk) status = 'DEUDA SOCIAL';\r\n        else if (!activityOk) status = 'DEUDA ACTIVIDAD';\r\n        else if (!federationOk) status = 'DEUDA FEDERACI√ìN';\r\n\r\n        return {\r\n            'Jugador': p.name,\r\n            'Categor√≠a': p.category,\r\n            'Tira': p.tira,\r\n            'Estado': status,\r\n            '√ölt. Pago Social': p.lastSocialPayment || '-',\r\n            '√ölt. Pago Actividad': p.scholarship ? 'BECADO' : (p.lastActivityPayment || '-'),\r\n            'Federaci√≥n/Seguro': p.federationYear ? `${p.federationYear} - ${p.federationInstallments}` : '-'\r\n        };\r\n    });\r\n\r\n    exportToExcel(exportData, `pagos_${new Date().toISOString().split('T')[0]}`);\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1452, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/damia/My%20Drive/Consultorias/All%20Boys/gestion-basket-app/src/app/dashboard/players/export-button.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { exportPlayersToExcel } from '@/lib/export-utils';\r\n\r\nexport default function ExportPlayersButton({ players, mappings }: { players: any[], mappings: any[] }) {\r\n    return (\r\n        <button\r\n            onClick={() => exportPlayersToExcel(players, mappings)}\r\n            className=\"btn btn-outline\"\r\n            style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}\r\n        >\r\n            üìä Exportar Excel\r\n        </button>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,oBAAoB,EAAE,OAAO,EAAE,QAAQ,EAAuC;IAClG,qBACI,6LAAC;QACG,SAAS,IAAM,IAAA,wJAAoB,EAAC,SAAS;QAC7C,WAAU;QACV,OAAO;YAAE,SAAS;YAAQ,YAAY;YAAU,KAAK;QAAS;kBACjE;;;;;;AAIT;KAVwB"}},
    {"offset": {"line": 1487, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/damia/My%20Drive/Consultorias/All%20Boys/gestion-basket-app/src/app/dashboard/players/filter-persistence.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef } from 'react';\r\nimport { useRouter, useSearchParams, usePathname } from 'next/navigation';\r\n\r\nexport default function FilterPersistence() {\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n    const pathname = usePathname();\r\n    const hasRestoredRef = useRef(false);\r\n\r\n    // Reset restoration flag when leaving the page\r\n    useEffect(() => {\r\n        if (pathname !== '/dashboard/players') {\r\n            hasRestoredRef.current = false;\r\n        }\r\n    }, [pathname]);\r\n\r\n    // Restore filters logic\r\n    useEffect(() => {\r\n        // Only run on the players page\r\n        if (pathname !== '/dashboard/players') return;\r\n\r\n        // If already restored this session, don't do it again\r\n        if (hasRestoredRef.current) return;\r\n\r\n        const currentParams = searchParams.toString();\r\n\r\n        // If there are already params, we consider the restoration \"done\"\r\n        if (currentParams) {\r\n            hasRestoredRef.current = true;\r\n            return;\r\n        }\r\n\r\n        // No params present, try to restore from storage\r\n        const savedFilters = sessionStorage.getItem('playerFilters');\r\n        if (savedFilters) {\r\n            // Avoid infinite loop if we are already at the target state\r\n            if (currentParams === savedFilters) {\r\n                hasRestoredRef.current = true;\r\n                return;\r\n            }\r\n            hasRestoredRef.current = true;\r\n            router.replace(`/dashboard/players?${savedFilters}`);\r\n        } else {\r\n            // Nothing to restore, mark as checked\r\n            hasRestoredRef.current = true;\r\n        }\r\n    }, [pathname, searchParams, router]);\r\n\r\n    // Save filters logic\r\n    useEffect(() => {\r\n        const paramsStr = searchParams.toString();\r\n\r\n        if (paramsStr) {\r\n            sessionStorage.setItem('playerFilters', paramsStr);\r\n        } else {\r\n            // If filters are cleared, clear the storage too\r\n            sessionStorage.removeItem('playerFilters');\r\n        }\r\n    }, [searchParams]);\r\n\r\n    return null;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAKe,SAAS;;IACpB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,eAAe,IAAA,wJAAe;IACpC,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,iBAAiB,IAAA,uKAAM,EAAC;IAE9B,+CAA+C;IAC/C,IAAA,0KAAS;uCAAC;YACN,IAAI,aAAa,sBAAsB;gBACnC,eAAe,OAAO,GAAG;YAC7B;QACJ;sCAAG;QAAC;KAAS;IAEb,wBAAwB;IACxB,IAAA,0KAAS;uCAAC;YACN,+BAA+B;YAC/B,IAAI,aAAa,sBAAsB;YAEvC,sDAAsD;YACtD,IAAI,eAAe,OAAO,EAAE;YAE5B,MAAM,gBAAgB,aAAa,QAAQ;YAE3C,kEAAkE;YAClE,IAAI,eAAe;gBACf,eAAe,OAAO,GAAG;gBACzB;YACJ;YAEA,iDAAiD;YACjD,MAAM,eAAe,eAAe,OAAO,CAAC;YAC5C,IAAI,cAAc;gBACd,4DAA4D;gBAC5D,IAAI,kBAAkB,cAAc;oBAChC,eAAe,OAAO,GAAG;oBACzB;gBACJ;gBACA,eAAe,OAAO,GAAG;gBACzB,OAAO,OAAO,CAAC,CAAC,mBAAmB,EAAE,cAAc;YACvD,OAAO;gBACH,sCAAsC;gBACtC,eAAe,OAAO,GAAG;YAC7B;QACJ;sCAAG;QAAC;QAAU;QAAc;KAAO;IAEnC,qBAAqB;IACrB,IAAA,0KAAS;uCAAC;YACN,MAAM,YAAY,aAAa,QAAQ;YAEvC,IAAI,WAAW;gBACX,eAAe,OAAO,CAAC,iBAAiB;YAC5C,OAAO;gBACH,gDAAgD;gBAChD,eAAe,UAAU,CAAC;YAC9B;QACJ;sCAAG;QAAC;KAAa;IAEjB,OAAO;AACX;GA1DwB;;QACL,kJAAS;QACH,wJAAe;QACnB,oJAAW;;;KAHR"}}]
}